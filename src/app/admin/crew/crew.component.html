 <!-- Wrapper Start -->
 <div class="wrapper"><ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "small" color = "#fff" type = "ball-scale-multiple" [fullScreen] = "true" template = " <img src='../../../assets/StreamAssets/images/loader-unscreen.gif' /> "></ngx-spinner>

  <!-- Sidebar  -->
<app-adminsidebar></app-adminsidebar>
  <!-- TOP Nav Bar -->
<app-adminheader></app-adminheader>
  <!-- TOP Nav Bar END -->
  <!-- Page Content  -->
  <div id="content-page" class="content-page">
     <div class="container">
        <div class="row">
           <div class="col-sm-12">
              <div class="iq-card">
                 <div class="iq-card-header d-flex justify-content-between">
                    <div class="iq-header-title">
                       <h4 class="card-title">Crew Lists</h4>
                    </div>
                    <div class="iq-card-header-toolbar d-flex align-items-center">
                       <a (click)="OpenDialog()" class="btn btn-primary" style="color: white;">Add </a>
                    </div>
                 </div>
                 <div class="iq-card-body">
                    <div class="table-view">
                      <div>
                        <span><i title="pdf" style="font-size: 32px;"  (click)="exportPdf()"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#ba1212}</style><path d="M64 464H96v48H64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0H229.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V288H336V160H256c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16zM176 352h32c30.9 0 56 25.1 56 56s-25.1 56-56 56H192v32c0 8.8-7.2 16-16 16s-16-7.2-16-16V448 368c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24H192v48h16zm96-80h32c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H304c-8.8 0-16-7.2-16-16V368c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16V400c0-8.8-7.2-16-16-16H320v96h16zm80-112c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16s-7.2 16-16 16H448v32h32c8.8 0 16 7.2 16 16s-7.2 16-16 16H448v48c0 8.8-7.2 16-16 16s-16-7.2-16-16V432 368z"/></svg></i></span>
                        <span ><i title="excel" class="ri-file-excel-2-line" style="font-size: 32px;color: #4CAF50;" (click)="exportToExcel()"></i></span>
                        <span ><i title="print" class="ri-printer-line" style="font-size: 32px;color: #bababa;" (click)="printPage()"></i></span>

                     </div><br>
          <input matInput (keyup)="applyFilter($event)" placeholder="Search" #input>
          <div class="mat-elevation-z8" >
            <table mat-table [dataSource]="dataSource" matSort id="app"class="movie_table" >

              <!-- ID Column -->
              <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="    background-color: #1c1c1c;
                color: white;
                font-size: 15px;
                font-weight: 500;"> No. </th>
                <td mat-cell *matCellDef="let row;let i=index" style="color: #8b8b8b;
                font-weight: 500;
                font-size: 15px;"> {{i+1}} </td>
              </ng-container>

              <!-- Progress Column -->
              <ng-container matColumnDef="rate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="    background-color: #1c1c1c;
                color: white;
                font-size: 15px;
                font-weight: 500;"> Name </th>
                <td mat-cell *matCellDef="let row" style="color: #8b8b8b;
                font-weight: 500;
                font-size: 15px;"> {{row.name}} </td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="    background-color: #1c1c1c;
                color: white;
                font-size: 15px;
                font-weight: 500;"> Image </th>
                <td mat-cell *matCellDef="let row" style="color: #8b8b8b;
                font-weight: 500;
                font-size: 15px;"> <img
                                               src="../../../assets/Image/{{row.image}}"
                                               class="img-border-radius avatar-40 img-fluid" alt=""></td>
              </ng-container>

              <!-- Name Column -->
              <ng-container matColumnDef="age">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="    background-color: #1c1c1c;
                color: white;
                font-size: 15px;
                font-weight: 500;"> Age </th>
                <td mat-cell *matCellDef="let row" style="color: #8b8b8b;
                font-weight: 500;
                font-size: 15px;"> {{row.age}} </td>
              </ng-container>
              <!-- Name Column -->
              <ng-container matColumnDef="roleid">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="    background-color: #1c1c1c;
                color: white;
                font-size: 15px;
                font-weight: 500;"> Role </th>
                <td mat-cell *matCellDef="let row" style="color: #8b8b8b;
                font-weight: 500;
                font-size: 15px;">
                                <ng-container *ngFor="let i of roleService.GetAllx">

                <ng-container *ngIf="row.roleid==i.id">
                  {{i.name}}
                 </ng-container>                 </ng-container>

                </td>
              </ng-container>
              <!-- Name Column -->
              <ng-container matColumnDef="image">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="    background-color: #1c1c1c;
                color: white;
                font-size: 15px;
                font-weight: 500;"> Birth Date </th>
                <td mat-cell *matCellDef="let row" style="color: #8b8b8b;
                font-weight: 500;
                font-size: 15px;"> {{row.birthdate |date}} </td>
              </ng-container>
              <!-- Name Column -->
              <ng-container matColumnDef="birth">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="    background-color: #1c1c1c;
                color: white;
                font-size: 15px;
                font-weight: 500;"> Place Of Birth </th>
                <td mat-cell *matCellDef="let row" style="color: #8b8b8b;
                font-weight: 500;
                font-size: 15px;"> {{row.placeofbirth}} </td>
              </ng-container>
              <!-- Fruit Column -->
              <ng-container matColumnDef="fruit">
                <th mat-header-cell *matHeaderCellDef mat-sort-header style="    background-color: #1c1c1c;
                color: white;
                font-size: 15px;
                font-weight: 500;"> Action </th>
                <td mat-cell *matCellDef="let row">
                  <div class="flex align-items-center list-user-action">
                    <a class="iq-bg-info" data-toggle="tooltip" data-placement="top" title=""
                                    data-original-title="View" (click)="OpenjobDialog(row.id)"><i class="ri-add-fill"></i></a>
                                      <a class="iq-bg-success" data-toggle="tooltip" data-placement="top" title=""
                                         data-original-title="Edit" (click)="OpenUpdateDialog(row.id)"><i class="ri-pencil-line"></i></a>
                                      <a class="iq-bg-primary" data-toggle="tooltip" data-placement="top" title=""
                                         data-original-title="Delete" (click)="OpenDeleteDialog(row.id)"><i
                                            class="ri-delete-bin-line"></i></a>
                  </div>
                   </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;" ></tr>

              <!-- Row shown when there is no matching data. -->
              <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
              </tr>
            </table>

            <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users" style="    background-color: #3e3e3e;
            color: white;
            font-size: 15px;
            font-weight: 500;"></mat-paginator>
          </div>





                    </div>
                 </div>
              </div>
           </div>
        </div>
     </div>
  </div>
</div>
<!-- Wrapper END -->
<div class="rtl-box">
<button type="button" class="btn btn-light rtl-btn">
     <svg xmlns="http://www.w3.org/2000/svg" width="30px" height="30px" viewBox="0 0 20 20" fill="white">
     <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" />
     </svg>
</button>
<div class="rtl-panel">
  <ul class="modes">
     <li class="dir-btn" data-mode="rtl" data-active="false"   data-value="ltr"><a href="#">LTR</a></li>
     <li class="dir-btn" data-mode="rtl" data-active="true"   data-value="rtl"><a href="#">RTL</a></li>
  </ul>
</div>
</div>
<!-- Footer -->
<app-adminfooter></app-adminfooter>
<!-- Footer END -->


<ng-template #createcrew>
  <div style="width: 600px;background-color: rgb(25 25 25); padding: 25px;color: white;" mat-dialog-content>
  <form
  [formGroup]="CreateForm" class="example-form">
    <div>
      <mat-label>Name</mat-label>
      <input type="text" matInput formControlName="name" >
    </div>
    <div style="margin-top: 15px;">
      <mat-label>Image</mat-label>

      <input #file1   (change)="uploadfile(file1)" type="file" >

  </div>
    <div>
      <mat-label>Description</mat-label>
      <input type="text" matInput formControlName="descip" >
    </div>
    <div>
      <mat-label>Facebook</mat-label>
      <input type="text" matInput formControlName="facebook" >
    </div>
    <div>
      <mat-label>twiter</mat-label>
      <input type="text" matInput formControlName="twiter" >
    </div>
    <div>
      <mat-label>Instagram</mat-label>
      <input type="text" matInput formControlName="instagram" >
    </div>
    <div>
      <mat-label>Age</mat-label>
      <input type="text" matInput formControlName="age" >
    </div>
    <div>
      <mat-label>Birth Date</mat-label>
      <input type="date" matInput formControlName="birthdate" >
    </div>
    <div>
      <mat-label>Place Of Birth</mat-label>
      <input type="text" matInput formControlName="placeofbirth" >
    </div>

    <div>
      <mat-label>Choose Role</mat-label>
        <mat-select style="height: 25px;
        background-color: rgb(107, 102, 102);
        border-color: white;
        border-style: solid;
        border-width: thin;" formControlName="roleid">
          <mat-option  *ngFor="let i of getItems()" [value]="i.id">{{i.name}}</mat-option>
        </mat-select>
    </div>
    <div>
      <input
        style="background-color: #e20e02"
        mat-dialog-close
        [disabled]="CreateForm.invalid"
        type="button"
        value="Create"
        (click)="CreateCrew()"
      />
    </div>
  </form>
</div>
</ng-template>

<ng-template #updatecrew>
  <div style="width: 600px;background-color: rgb(25 25 25); padding: 25px;color: white;" mat-dialog-content>
  <form
  [formGroup]="UpdateForm" class="example-form">
  <div>
    <mat-label>Name</mat-label>
    <input type="text" matInput formControlName="name" >
  </div>
  <div style="margin-top: 15px;">
    <mat-label>Image</mat-label>

    <input #file  (change)="upload(file)" type="file" >

</div>
  <div>
    <mat-label>Description</mat-label>
    <input type="text" matInput formControlName="descip" >
  </div>
  <div>
    <mat-label>Facebook</mat-label>
    <input type="text" matInput formControlName="facebook" >
  </div>
  <div>
    <mat-label>twiter</mat-label>
    <input type="text" matInput formControlName="twiter" >
  </div>
  <div>
    <mat-label>Instagram</mat-label>
    <input type="text" matInput formControlName="instagram" >
  </div>
  <div>
    <mat-label>Age</mat-label>
    <input type="text" matInput formControlName="age" >
  </div>
  <div>
    <mat-label>Birth Date</mat-label>
    <input type="date" matInput formControlName="birthdate" >
  </div>
  <div>
    <mat-label>Place Of Birth</mat-label>
    <input type="text" matInput formControlName="placeofbirth" >
  </div>

  <div>
    <mat-label>Choose Role</mat-label>
      <mat-select style="height: 25px;
      background-color: rgb(107, 102, 102);
      border-color: white;
      border-style: solid;
      border-width: thin;" formControlName="roleid">
        <mat-option  *ngFor="let i of getItems()" [value]="i.id">{{i.name}}</mat-option>
      </mat-select>
  </div>
    <div>
      <input
        style="background-color: #143e2b"
        mat-dialog-close
        [disabled]="UpdateForm.invalid"
        type="button"
        value="Update"
        (click)="UpdateCrew()"
      />
    </div>
  </form>
</div>
</ng-template>


<ng-template #deletecrew >
  <div style="background-color: rgb(25 25 25); padding: 5px">
  <h2 style="color: white;" mat-dialog-content>Would you like to delete this item?</h2>
  <div mat-dialog-actions>
    <input
      style="background-color: #e20e02"
      mat-dialog-close
      value="Yes"
      type="button"
      class="btn btn-success"
      (click)="DeleteCrew()"
    />
    <input style="background-color:#143e2b;color: white;"  mat-dialog-close value="No" type="button" class="btn btn-error" />
  </div>
</div>
</ng-template>


<ng-template #addmo>
  <div style="width: 600px;background-color: rgb(25 25 25); padding: 25px;color: white;" mat-dialog-content>
  <form
  [formGroup]="AddM" class="example-form">
    <div>
      <mat-label>Choose Movie</mat-label>
        <mat-select style="height: 25px;
        background-color: rgb(107, 102, 102);
        border-color: white;
        border-style: solid;
        border-width: thin;" formControlName="movieid">
          <mat-option  *ngFor="let i of movieService.GetAllx" [value]="i.id">{{i.name}}</mat-option>
        </mat-select>
    </div>
    <div>
      <input
        style="background-color: #e20e02"
        mat-dialog-close
        [disabled]="AddM.invalid"
        type="button"
        value="Create"
        (click)="Createmo()"
      />
    </div>
  </form>
</div>
</ng-template>
<ng-template #addse>
  <div style="width: 600px;background-color: rgb(25 25 25); padding: 25px;color: white;" mat-dialog-content>
  <form
  [formGroup]="Adds" class="example-form">
    <div>
      <mat-label>Choose Series</mat-label>
        <mat-select style="height: 25px;
        background-color: rgb(107, 102, 102);
        border-color: white;
        border-style: solid;
        border-width: thin;" formControlName="seriesid">
          <mat-option  *ngFor="let i of seriesService.GetAllx" [value]="i.id">{{i.name}}</mat-option>
        </mat-select>
    </div>
    <div>
      <input
        style="background-color: #e20e02"
        mat-dialog-close
        [disabled]="Adds.invalid"
        type="button"
        value="Create"
        (click)="CreateSe()"
      />
    </div>
  </form>
</div>
</ng-template>
<ng-template #ajob>
  <div style="display: flex;width: 600px;background-color: rgb(25 25 25); padding: 25px;color: white;" mat-dialog-content>
<div>
  <div class="iq-card-header-toolbar d-flex align-items-center">

    <a style="width: 95%;padding: 10px;
    margin-bottom: 10px;color: white
    "(click)="OpenAddMDialog()" class="btn btn-primary">Add Movie</a>
 </div>
    <table class=" data-tables table movie_table " >
      <thead>
         <tr>
            <th>Movie</th>
            <th>Action</th>

         </tr>
      </thead>
      <tbody>
        <ng-container *ngFor="let item of crewseriesmovieService.GetAllx">
        <ng-container *ngFor="let i of movieService.GetAllx">
          <ng-container *ngIf="item.crewid==x">
            <ng-container *ngIf="item.movieid==i.id">

         <tr >
          <td >{{i.name}}</td>
            <td>
               <div class=" list-user-action">
                  <a  class="iq-bg-primary" data-toggle="tooltip" data-placement="top" title=""
                     data-original-title="Delete" (click)="OpenDeletemo(item.id)"><i
                        class="ri-delete-bin-line"></i></a>
               </div>
            </td>

         </tr>
        </ng-container>          </ng-container>
      </ng-container>          </ng-container>

      </tbody>
   </table>
   </div>
   <div>
    <div class="iq-card-header-toolbar d-flex align-items-center">
      <a style="width: 95%;padding: 10px;
      margin-bottom: 10px;color: white;
      " (click)="OpenAddSDialog()" class="btn btn-primary" >Add Series</a>
   </div>
   <table class="flex align-items-center data-tables table movie_table " >
    <thead>
       <tr>
          <th>Series</th>
          <th>Action</th>

       </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let item of crewseriesmovieService.GetAllx">
        <ng-container  *ngFor="let i of seriesService.GetAllx">
          <ng-container  *ngIf="item.crewid==x">
            <ng-container  *ngIf="item.seriesid==i.id">

      <tr >

      <td >{{i.name}}</td>
        <td>
           <div class="flex align-items-center list-user-action">
              <a class="iq-bg-primary" data-toggle="tooltip" data-placement="top" title=""
                 data-original-title="Delete" (click)="OpenDeletese(item.id)"><i
                    class="ri-delete-bin-line"></i></a>
           </div>
        </td>

     </tr>
    </ng-container>      </ng-container>
  </ng-container>      </ng-container>

    </tbody>
 </table>
</div>
</div>
</ng-template>



<ng-template #deletem >
  <div style="background-color: rgb(25 25 25); padding: 5px">
  <h2 style="color: white;" mat-dialog-content>Would you like to delete this item?</h2>
  <div mat-dialog-actions>
    <input
      style="background-color: #e20e02"
      mat-dialog-close
      value="Yes"
      type="button"
      class="btn btn-success"
      (click)="DeleteCrewM()"
    />
    <input style="background-color:#143e2b;color: white;"  mat-dialog-close value="No" type="button" class="btn btn-error" />
  </div>
</div>
</ng-template>
<ng-template #deletes >
  <div style="background-color: rgb(25 25 25); padding: 5px">
  <h2 style="color: white;" mat-dialog-content>Would you like to delete this item?</h2>
  <div mat-dialog-actions>
    <input
      style="background-color: #e20e02"
      mat-dialog-close
      value="Yes"
      type="button"
      class="btn btn-success"
      (click)="DeleteCrewS()"
    />
    <input style="background-color:#143e2b;color: white;"  mat-dialog-close value="No" type="button" class="btn btn-error" />
  </div>
</div>
</ng-template>
